import unittest
import sys
import os

# Agregamos 'src' al path para poder importar los módulos
sys.path.append(os.path.abspath("src"))

from modelos import Paciente , Medico, Especialidad

class TestPaciente(unittest.TestCase):
    def test_str(self):
        p = Paciente("Juan", "123", "01/01/1990")
        self.assertEqual(str(p), "Juan (DNI: 123)")

    def test_obtener_dni(self):
        p = Paciente("Ana", "456", "02/02/1992")
        self.assertEqual(p.obtener_dni(), "456")

class TestMedico(unittest.TestCase):
    def setUp(self):
        self.medico = Medico("Dra. López", "M001")
        self.especialidad = Especialidad("Cardiología", ["lunes", "miércoles"])

    def test_agregar_especialidad(self):
        self.medico.agregar_especialidad(self.especialidad)
        self.assertIn(self.especialidad, self.medico.especialidades)

    def test_especialidad_para_dia(self):
        self.medico.agregar_especialidad(self.especialidad)
        esp = self.medico.obtener_especialidad_para_dia("Miércoles")
        self.assertEqual(esp, "Cardiología")

class TestEspecialidad(unittest.TestCase):
    def test_str(self):
        esp = Especialidad("Pediatría", ["lunes", "viernes"])
        self.assertEqual(str(esp), "Pediatría (Días: lunes, viernes)")

    def test_verificar_dia(self):
        esp = Especialidad("Clínica", ["martes"])
        self.assertTrue(esp.verificar_dia("MARTES"))
        self.assertFalse(esp.verificar_dia("jueves"))

if __name__ == "__main__":
    unittest.main()

